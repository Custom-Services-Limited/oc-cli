parameters:
    level: 3  # Reduced level to avoid framework conflicts
    paths:
        - src
    
    excludePaths:
        # Exclude files with Symfony dependencies that PHPStan can't resolve
        - src/Application.php
        - src/Command.php
    
    # Ignore specific patterns
    ignoreErrors:
        # Ignore missing mysqli extension for static analysis
        - '#Call to method.*on an unknown class mysqli#'
        - '#Class mysqli not found#'
        
        # Ignore Symfony framework dependency issues (work fine at runtime)
        - message: '#Class .* extends unknown class Symfony\\Component\\Console\\.*#'
        - message: '#.* calls parent::.* but .* does not extend any class#'
        - message: '#Call to an undefined method .*#'
        - message: '#Call to method .* on an unknown class Symfony\\Component\\Console\\.*#'
        - message: '#Property .* has unknown class Symfony\\Component\\Console\\.*#'
        - message: '#Instantiated class Symfony\\Component\\Console\\.*#'
        
        # Ignore dynamic properties for backward compatibility
        - '#Access to an undefined property#'
        
        # Allow mixed types for configuration arrays
        - '#has no value type specified in iterable type array#'
        
        # Ignore missing typehints from arrays (deprecated config replacement)
        -
            identifier: missingType.iterableValue
            
        # Ignore missing typehints from generics (deprecated config replacement)
        -
            identifier: missingType.generics
    
    # Bootstrap for better understanding of the codebase
    bootstrapFiles:
        - vendor/autoload.php
    
    # Check PHP compatibility
    phpVersion: 70100
    
    # Type coverage
    reportUnmatchedIgnoredErrors: false